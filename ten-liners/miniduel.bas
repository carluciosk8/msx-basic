1 DIMT(256,1):DEFFNR(A,B)=A*RND(-TIME)+B:FORI=0TO1:READD,W:T(0,I)=FNR(D,W):NEXT:FORK=0TO3:S=64*K:E=S+64:FORI=0TO1:READD,W:T(E,I)=FNR(D,W):NEXT:FORH=0TO5:B=2^(5-H):FORI=S+BTOESTEPB+B:FORJ=0TO1:T(I,J)=(T(I-B,J)+T(I+B,J))/2+FNR(B,-B/2):NEXT:NEXT:NEXT:NEXT
2 SCREEN1,2:WIDTH32:COLOR1,5:SCREEN2:OPEN"grp:"AS#1:ONSPRITEGOSUB8:ONINTERVAL=15GOSUB9:FORX=0TO255:FORI=0TO1:LINE(X,T(X,I))-(X+8*I,191),6+5*I,BF:NEXT:NEXT:FORX=32TO96:FORI=0TO1:W=X+128*I:LINE(W,T(W,0))-(W,FNR(8,T(W,0))),15:NEXT:NEXT:W=FNR(0.008,-0.004)
3 FORI=0TO8:FORJ=0TO3:READR$:VPOKE14336+4*I+J+(I\2)*8,VAL("&H"+R$):NEXT:READS(I):NEXT:FORI=0TO1:READR,G(I,0),G(I,1),L(I),N(I,0),N(I,1),K(I),V(I,0),V(I,1),C(I):U(I)=FNR(32,R):H(I)=T(U(I),1):PUTSPRITEI,(U(I)-7,H(I)-8),12,0:NEXT:LINE(16,0)-(244,8),10,BF
4 FORI=0TO1:PUTSPRITE6-2*I,(U(1)-4-3*I,H(1)-11-3*I),1,2:PRESET(128+I,9):?#1,"0123456789":PRESET(20+I,1):?#1,"PLAYER       B        P":U(I)=U(I)-2*I:H(I)=H(I)-8:NEXT:LINE(0,8)-(7,8),10:POKE&HFCAF,1:LOCATE9,0:?1:?"@@";SPC(27):Z=666*W:SPRITEON:INTERVALON
5 J=STICK(P+1):FORI=0TO1:G(P,I)=G(P,I)-(N(P,I)=JANDG(P,I)<K(I))+(V(P,I)=JANDG(P,I)>0):LOCATEL(I),0:?G(P,I):NEXT:A=G(P,0)*0.0175:B=-(2*P-1)*4*COS(A):O=-4*SIN(A):X=U(P)+B:Y=H(P)+O:FORI=5TO3STEP-2:PUTSPRITEP+I,(X,Y),1,2:X=X+B:Y=Y+O:NEXT:IFNOTSTRIG(P+1)THEN5
6 M=G(P,1)*0.00666:B=M*B:O=M*O:SOUND1,1:SOUND7,254:SOUND8,15:FORI=0TO1STEP0:B=B+W:O=O+0.02:Y=Y+O:X=X+B:PUTSPRITE2,(X-1,Y-2):SOUND0,YANDY>0:Q=XAND0<XANDX<256:IFX<0ORX>255ORY>T(Q,1)THENW=FNR(0.008,-0.004):Z=666*W:P=(P+1)MOD2:LOCATE9,0:?P+1:ELSENEXT
7 FORI=0TO8:SOUNDI+5,S(I):NEXT:PUTSPRITE2,(-9,-9):IFTTHENPUTSPRITEP+3,(-9,-9):RETURNELSEIFY>=T(Q,1)ANDX>3ANDX<252THENPOKE&HFCAF,2:FORI=1TO3:FORJ=0TO1:D=X+I+J*(1-2*I):E=T(D,1)+3-I:LINE(D,T(D,1))-(D,E),6:T(D,1)=E:NEXT:NEXT:POKE&HFCAF,1:GOTO5ELSEGOTO5
8 IFY<96THENRETURNELSEP=X>128AND1:T=1:GOSUB7:PUTSPRITEP+5,(-9,-9):FORI=H(P)-2TO200:J=IMOD9:SOUNDJ+5,S(J):PUTSPRITEP,(U(P)-7,I),J,0:NEXT:POKE&HFCAF,2:LINE(64,76)-(192,116),10,BF:INTERVALOFF:FORI=0TO1:PSET(75+I,92):?#1,"PLAYER"+STR$(2-P)+" WINS":NEXT:RUN
9 PUTSPRITE7,(C(0),36),14,1:PUTSPRITE8,(C(1),66),15,1:C(0)=C(0)+Z:C(1)=C(1)+Z:C(0)=-255*(C(0)<=-27)+((-27<C(0))AND(C(0)<=255))*(-C(0))+(255<C(0))*27:C(1)=-255*(C(1)<=-27)+((-27<C(1))AND(C(1)<=255))*(-C(1))+(255<C(1))*27:RETURN
10 DATA10,81,65,120,10,26,85,100,10,53,120,64,10,26,85,100,10,81,65,120,3,6,7,7F,0,EE,D5,6E,3F,21,80,C0,C0,FC,247,EE,56,EC,F8,16,2,65,D6,AB,0,DC,39,6,1F,0,E0,58,EE,1C,100,C2,B7,6D,6,60,40,E0,40,0,0,20,45,50,17,7,1,90,3,5,27,204,45,50,26,3,1,99,7,5,172